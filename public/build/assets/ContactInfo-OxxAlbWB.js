import{r as y,j as e}from"./app-BM-7Ic7X.js";import{B as v,a as b,b as k}from"./index-CJEh3tsh.js";import{C as d}from"./warning-CU0ujkE5.js";import{R as C}from"./Row-DifQrUPw.js";import{F as l,a as t}from"./Form-1XFLlpg7.js";import{I as p}from"./InputGroup-C9moFD9n.js";import{B as x}from"./Button-DEIOzzjy.js";import{S as P}from"./Spinner-DcQ9VTZI.js";import"./iconBase-eQQuFLsa.js";import"./InputGroupContext-AWZvVY2Z.js";function R({data:a,setData:i,errors:n,phoneVerified:s,emailVerified:o,sendingOTP:h,sendOTP:j,verifyOTP:f,processing:I}){y.useEffect(()=>{a.preferredChannel||i("preferredChannel","phone")},[a.preferredChannel,i]);const u=r=>{i("preferredChannel",r),i(r==="phone"?"emailVerified":"phoneVerified",!1)},c=a.preferredChannel==="phone",m=a.preferredChannel==="email";return e.jsxs(d,{md:12,className:"section-frame contact-information mb-5",children:[e.jsx("div",{className:"title",children:e.jsxs("span",{children:[e.jsx(v,{className:"me-2"}),"Contact Information"]})}),e.jsxs("div",{className:"p-3",children:[e.jsx(C,{className:"mb-3",children:e.jsx(d,{md:12,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Preferred Communication Channel"}),e.jsxs("div",{children:[e.jsx(l.Check,{inline:!0,type:"radio",label:"Phone",name:"preferredChannel",id:"preferredChannel_phone",checked:c,onChange:()=>u("phone"),isInvalid:!!n.preferredChannel}),e.jsx(l.Check,{inline:!0,type:"radio",label:"Email",name:"preferredChannel",id:"preferredChannel_email",checked:m,onChange:()=>u("email"),isInvalid:!!n.preferredChannel})]}),e.jsx(l.Control.Feedback,{type:"invalid",children:n.preferredChannel})]})})}),e.jsxs(C,{children:[e.jsx(d,{md:8,children:e.jsxs(p,{className:"mb-3",children:[e.jsxs(t,{controlId:"phone",label:"Phone Number",style:{flex:1},children:[e.jsx(l.Control,{type:"text",placeholder:"e.g., 2547XXXXXXXX",value:a.phone,onChange:r=>i("phone",r.target.value),isInvalid:!!n.phone,required:c}),e.jsx(l.Control.Feedback,{type:"invalid",children:n.phone||(c&&!s?"Phone verification is required":"")})]}),c&&e.jsxs(x,{variant:s?"success":"primary",onClick:()=>s?null:j("phone"),disabled:h.phone||s,children:[h.phone?e.jsx(P,{animation:"border",size:"sm"}):s?e.jsx(b,{className:"me-1"}):e.jsx(v,{className:"me-1"}),s?"Verified":"Send OTP"]})]})}),!s&&c&&e.jsx(d,{md:4,children:e.jsxs(p,{className:"mb-3",children:[e.jsxs(t,{controlId:"phoneOTP",label:"Phone OTP Code",style:{flex:1},children:[e.jsx(l.Control,{type:"text",placeholder:"Enter 6-digit OTP Code",value:a.phoneOTP,onChange:r=>i("phoneOTP",r.target.value),isInvalid:!!n.phoneOTP}),e.jsx(l.Control.Feedback,{type:"invalid",children:n.phoneOTP})]}),e.jsx(x,{variant:"outline-primary",onClick:()=>f("phone"),children:"Verify OTP"})]})})]}),e.jsxs(C,{children:[e.jsx(d,{md:8,children:e.jsxs(p,{className:"mb-3",children:[e.jsxs(t,{controlId:"email",label:"Email Address",style:{flex:1},children:[e.jsx(l.Control,{type:"email",placeholder:"your.email@example.com",value:a.email,onChange:r=>i("email",r.target.value),isInvalid:!!n.email,required:m}),e.jsx(l.Control.Feedback,{type:"invalid",children:n.email||(m&&!o?"Email verification is required":"")})]}),m&&e.jsxs(x,{variant:o?"success":"primary",onClick:()=>o?null:j("email"),disabled:h.email||o,children:[h.email?e.jsx(P,{animation:"border",size:"sm"}):o?e.jsx(b,{className:"me-1"}):e.jsx(k,{className:"me-1"}),o?"Verified":"Send OTP"]})]})}),!o&&m&&e.jsx(d,{md:4,children:e.jsxs(p,{className:"mb-3",children:[e.jsxs(t,{controlId:"emailOTP",label:"Email OTP Code",style:{flex:1},children:[e.jsx(l.Control,{type:"text",placeholder:"Enter 6-digit OTP Code",value:a.emailOTP,onChange:r=>i("emailOTP",r.target.value),isInvalid:!!n.emailOTP}),e.jsx(l.Control.Feedback,{type:"invalid",children:n.emailOTP})]}),e.jsx(x,{variant:"outline-primary",onClick:()=>f("email"),children:"Verify OTP"})]})})]})]})]})}export{R as default};
