import{r as y,j as e}from"./app-DGPKRCmx.js";import{B as v,a as b,b as k}from"./index-aCKJIcP9.js";import{C as d,F as l,a as t}from"./Form-CB9LuN8U.js";import{R as C}from"./Row-BoIF-oDO.js";import{I as p}from"./InputGroup-96oBvNR-.js";import{B as x}from"./Button-XaRRVv9X.js";import{S as P}from"./Spinner-DbnPYo0l.js";import"./iconBase-eqUq4iHE.js";function q({data:i,setData:a,errors:n,phoneVerified:s,emailVerified:o,sendingOTP:m,sendOTP:j,verifyOTP:f,processing:I}){y.useEffect(()=>{i.preferredChannel||a("preferredChannel","phone")},[i.preferredChannel,a]);const u=r=>{a("preferredChannel",r),a(r==="phone"?"emailVerified":"phoneVerified",!1)},c=i.preferredChannel==="phone",h=i.preferredChannel==="email";return e.jsxs(d,{md:12,className:"section-frame contact-information mb-5",children:[e.jsx("div",{className:"title",children:e.jsxs("span",{children:[e.jsx(v,{className:"me-2"}),"Contact Information"]})}),e.jsxs("div",{className:"p-3",children:[e.jsx(C,{className:"mb-3",children:e.jsx(d,{md:12,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Preferred Communication Channel"}),e.jsxs("div",{children:[e.jsx(l.Check,{inline:!0,type:"radio",label:"Phone",name:"preferredChannel",id:"preferredChannel_phone",checked:c,onChange:()=>u("phone"),isInvalid:!!n.preferredChannel}),e.jsx(l.Check,{inline:!0,type:"radio",label:"Email",name:"preferredChannel",id:"preferredChannel_email",checked:h,onChange:()=>u("email"),isInvalid:!!n.preferredChannel})]}),e.jsx(l.Control.Feedback,{type:"invalid",children:n.preferredChannel})]})})}),e.jsxs(C,{children:[e.jsx(d,{md:8,children:e.jsxs(p,{className:"mb-3",children:[e.jsxs(t,{controlId:"phone",label:"Phone Number",style:{flex:1},children:[e.jsx(l.Control,{type:"text",placeholder:"e.g., 2547XXXXXXXX",value:i.phone,onChange:r=>a("phone",r.target.value),isInvalid:!!n.phone,required:c}),e.jsx(l.Control.Feedback,{type:"invalid",children:n.phone||(c&&!s?"Phone verification is required":"")})]}),c&&e.jsxs(x,{variant:s?"success":"primary",onClick:()=>s?null:j("phone"),disabled:m.phone||s,children:[m.phone?e.jsx(P,{animation:"border",size:"sm"}):s?e.jsx(b,{className:"me-1"}):e.jsx(v,{className:"me-1"}),s?"Verified":"Send OTP"]})]})}),!s&&c&&e.jsx(d,{md:4,children:e.jsxs(p,{className:"mb-3",children:[e.jsxs(t,{controlId:"phoneOTP",label:"Phone OTP Code",style:{flex:1},children:[e.jsx(l.Control,{type:"text",placeholder:"Enter 6-digit OTP Code",value:i.phoneOTP,onChange:r=>a("phoneOTP",r.target.value),isInvalid:!!n.phoneOTP}),e.jsx(l.Control.Feedback,{type:"invalid",children:n.phoneOTP})]}),e.jsx(x,{variant:"outline-primary",onClick:()=>f("phone"),children:"Verify OTP"})]})})]}),e.jsxs(C,{children:[e.jsx(d,{md:8,children:e.jsxs(p,{className:"mb-3",children:[e.jsxs(t,{controlId:"email",label:"Email Address",style:{flex:1},children:[e.jsx(l.Control,{type:"email",placeholder:"your.email@example.com",value:i.email,onChange:r=>a("email",r.target.value),isInvalid:!!n.email,required:h}),e.jsx(l.Control.Feedback,{type:"invalid",children:n.email||(h&&!o?"Email verification is required":"")})]}),h&&e.jsxs(x,{variant:o?"success":"primary",onClick:()=>o?null:j("email"),disabled:m.email||o,children:[m.email?e.jsx(P,{animation:"border",size:"sm"}):o?e.jsx(b,{className:"me-1"}):e.jsx(k,{className:"me-1"}),o?"Verified":"Send OTP"]})]})}),!o&&h&&e.jsx(d,{md:4,children:e.jsxs(p,{className:"mb-3",children:[e.jsxs(t,{controlId:"emailOTP",label:"Email OTP Code",style:{flex:1},children:[e.jsx(l.Control,{type:"text",placeholder:"Enter 6-digit OTP Code",value:i.emailOTP,onChange:r=>a("emailOTP",r.target.value),isInvalid:!!n.emailOTP}),e.jsx(l.Control.Feedback,{type:"invalid",children:n.emailOTP})]}),e.jsx(x,{variant:"outline-primary",onClick:()=>f("email"),children:"Verify OTP"})]})})]})]})]})}export{q as default};
