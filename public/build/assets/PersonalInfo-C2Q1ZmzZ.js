import{r,j as e}from"./app-DGPKRCmx.js";import{d as le,e as ie,c as ae}from"./index-aCKJIcP9.js";import{u as T,c as P,b as G,P as oe,C as y,a as I,F as t,d as S}from"./Form-CB9LuN8U.js";import{R as te}from"./Row-BoIF-oDO.js";import{u as re,a as U,r as ce,h as W,c as de}from"./hasClass-CuBFhRo9.js";import{u as ue}from"./useTimeout-DXcDlvj8.js";import{u as he}from"./hook-vlQNqf5i.js";import{u as me,i as pe,o as xe,l as fe,R as ve,a as q,b as je,F as H,s as _,g as be}from"./Fade-CLtR-Esh.js";import{u as ye,g as ge,a as $,b as Ne,m as Ce,c as ke}from"./useIsomorphicEffect-DE0Xtg7R.js";import"./iconBase-eqUq4iHE.js";import"./useWillUnmount-BvdwbJDC.js";const we=()=>{};function Re(n,l,{disabled:s,clickTrigger:a}={}){const o=l||we;ye(n,o,{disabled:s,clickTrigger:a});const c=me(u=>{pe(u)&&o(u)});r.useEffect(()=>{if(s||n==null)return;const u=xe(ge(n));let v=(u.defaultView||window).event;const h=fe(u,"keyup",f=>{if(f===v){v=void 0;return}c(f)});return()=>{h()}},[n,s,c])}const z=r.forwardRef((n,l)=>{const{flip:s,offset:a,placement:o,containerPadding:c,popperConfig:u={},transition:v,runTransition:h}=n,[f,j]=$(),[g,i]=$(),m=re(j,l),p=U(n.container),N=U(n.target),[d,b]=r.useState(!n.show),x=Ne(N,f,Ce({placement:o,enableEvents:!!n.show,containerPadding:c||5,flip:s,offset:a,arrowElement:g,popperConfig:u}));n.show&&d&&b(!1);const R=(...D)=>{b(!0),n.onExited&&n.onExited(...D)},k=n.show||!d;if(Re(f,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!k)return null;const{onExit:F,onExiting:O,onEnter:w,onEntering:K,onEntered:B}=n;let M=n.children(Object.assign({},x.attributes.popper,{style:x.styles.popper,ref:m}),{popper:x,placement:o,show:!!n.show,arrowProps:Object.assign({},x.attributes.arrow,{style:x.styles.arrow,ref:i})});return M=ce(v,h,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:M,onExit:F,onExiting:O,onExited:R,onEnter:w,onEntering:K,onEntered:B}),p?ve.createPortal(M,p):null});z.displayName="Overlay";const V=r.forwardRef(({className:n,bsPrefix:l,as:s="div",...a},o)=>(l=T(l,"popover-header"),e.jsx(s,{ref:o,className:P(n,l),...a})));V.displayName="PopoverHeader";const L=r.forwardRef(({className:n,bsPrefix:l,as:s="div",...a},o)=>(l=T(l,"popover-body"),e.jsx(s,{ref:o,className:P(n,l),...a})));L.displayName="PopoverBody";function Z(n,l){let s=n;return n==="left"?s=l?"end":"start":n==="right"&&(s=l?"start":"end"),s}function J(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Q=r.forwardRef(({bsPrefix:n,placement:l="right",className:s,style:a,children:o,body:c,arrowProps:u,hasDoneInitialMeasure:v,popper:h,show:f,...j},g)=>{const i=T(n,"popover"),m=G(),[p]=(l==null?void 0:l.split("-"))||[],N=Z(p,m);let d=a;return f&&!v&&(d={...a,...J(h==null?void 0:h.strategy)}),e.jsxs("div",{ref:g,role:"tooltip",style:d,"x-placement":p,className:P(s,i,p&&`bs-popover-${N}`),...j,children:[e.jsx("div",{className:"popover-arrow",...u}),c?e.jsx(L,{children:o}):o]})});Q.displayName="Popover";const Oe=Object.assign(Q,{Header:V,Body:L,POPPER_OFFSET:[0,8]}),X=r.forwardRef(({bsPrefix:n,placement:l="right",className:s,style:a,children:o,arrowProps:c,hasDoneInitialMeasure:u,popper:v,show:h,...f},j)=>{n=T(n,"tooltip");const g=G(),[i]=(l==null?void 0:l.split("-"))||[],m=Z(i,g);let p=a;return h&&!u&&(p={...a,...J(v==null?void 0:v.strategy)}),e.jsxs("div",{ref:j,style:p,role:"tooltip","x-placement":i,className:P(s,n,`bs-tooltip-${m}`),...f,children:[e.jsx("div",{className:"tooltip-arrow",...c}),e.jsx("div",{className:`${n}-inner`,children:o})]})});X.displayName="Tooltip";const ee=Object.assign(X,{TOOLTIP_OFFSET:[0,6]});function Ie(n){const l=r.useRef(null),s=T(void 0,"popover"),a=T(void 0,"tooltip"),o=r.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(l.current){if(W(l.current,s))return Oe.POPPER_OFFSET;if(W(l.current,a))return ee.TOOLTIP_OFFSET}return[0,0]}}}),[n,s,a]);return[l,[o]]}function Fe(n,l){const{ref:s}=n,{ref:a}=l;n.ref=s.__wrapped||(s.__wrapped=o=>s(_(o))),l.ref=a.__wrapped||(a.__wrapped=o=>a(_(o)))}const ne=r.forwardRef(({children:n,transition:l=H,popperConfig:s={},rootClose:a=!1,placement:o="top",show:c=!1,...u},v)=>{const h=r.useRef({}),[f,j]=r.useState(null),[g,i]=Ie(u.offset),m=q(v,g),p=l===!0?H:l||void 0,N=je(d=>{j(d),s==null||s.onFirstUpdate==null||s.onFirstUpdate(d)});return ke(()=>{f&&u.target&&(h.current.scheduleUpdate==null||h.current.scheduleUpdate())},[f,u.target]),r.useEffect(()=>{c||j(null)},[c]),e.jsx(z,{...u,ref:m,popperConfig:{...s,modifiers:i.concat(s.modifiers||[]),onFirstUpdate:N},transition:p,rootClose:a,placement:o,show:c,children:(d,{arrowProps:b,popper:x,show:R})=>{var k;Fe(d,b);const F=x==null?void 0:x.placement,O=Object.assign(h.current,{state:x==null?void 0:x.state,scheduleUpdate:x==null?void 0:x.update,placement:F,outOfBoundaries:(x==null||(k=x.state)==null||(k=k.modifiersData.hide)==null?void 0:k.isReferenceHidden)||!1,strategy:s.strategy}),w=!!f;return typeof n=="function"?n({...d,placement:F,show:R,...!l&&R&&{className:"show"},popper:O,arrowProps:b,hasDoneInitialMeasure:w}):r.cloneElement(n,{...d,placement:F,arrowProps:b,popper:O,hasDoneInitialMeasure:w,className:P(n.props.className,!l&&R&&"show"),style:{...n.props.style,...d.style}})}})});ne.displayName="Overlay";function Ee(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function A(n,l,s){const[a]=l,o=a.currentTarget,c=a.relatedTarget||a.nativeEvent[s];(!c||c!==o)&&!de(o,c)&&n(...l)}oe.oneOf(["click","hover","focus"]);const Te=({trigger:n=["hover","focus"],overlay:l,children:s,popperConfig:a={},show:o,defaultShow:c=!1,onToggle:u,delay:v,placement:h,flip:f=h&&h.indexOf("auto")!==-1,...j})=>{const g=r.useRef(null),i=q(g,be(s)),m=ue(),p=r.useRef(""),[N,d]=he(o,c,u),b=Ee(v),{onFocus:x,onBlur:R,onClick:k}=typeof s!="function"?r.Children.only(s).props:{},F=C=>{i(_(C))},O=r.useCallback(()=>{if(m.clear(),p.current="show",!b.show){d(!0);return}m.set(()=>{p.current==="show"&&d(!0)},b.show)},[b.show,d,m]),w=r.useCallback(()=>{if(m.clear(),p.current="hide",!b.hide){d(!1);return}m.set(()=>{p.current==="hide"&&d(!1)},b.hide)},[b.hide,d,m]),K=r.useCallback((...C)=>{O(),x==null||x(...C)},[O,x]),B=r.useCallback((...C)=>{w(),R==null||R(...C)},[w,R]),M=r.useCallback((...C)=>{d(!N),k==null||k(...C)},[k,d,N]),D=r.useCallback((...C)=>{A(O,C,"fromElement")},[O]),se=r.useCallback((...C)=>{A(w,C,"toElement")},[w]),Y=n==null?[]:[].concat(n),E={ref:F};return Y.indexOf("click")!==-1&&(E.onClick=M),Y.indexOf("focus")!==-1&&(E.onFocus=K,E.onBlur=B),Y.indexOf("hover")!==-1&&(E.onMouseOver=D,E.onMouseOut=se),e.jsxs(e.Fragment,{children:[typeof s=="function"?s(E):r.cloneElement(s,E),e.jsx(ne,{...j,show:N,onHide:w,flip:f,placement:h,popperConfig:a,target:g.current,children:l})]})};function He({data:n,setData:l,errors:s,handleCheckboxChange:a,countries:o}){const[c,u]=r.useState(0);r.useEffect(()=>{if(n.dob){const i=new Date(n.dob),m=Date.now()-i.getTime(),p=new Date(m);if(u(Math.abs(p.getUTCFullYear()-1970)),c>35&&n.membershipCategory.includes("Youth")){const N=n.membershipCategory.filter(d=>d!=="Youth");l("membershipCategory",N)}}else u(0)},[n.dob,c,n.membershipCategory,l]);const v=i=>/^[a-zA-Z\s\-.'()]+$/.test(i),h=(i,m)=>{(m===""||v(m))&&l(i,m)},f=i=>{i.length<=8&&l("idNumber",i)},j=i=>{l("sex",i)},g=e.jsx(ee,{id:"youth-tooltip",children:"Youth category is only available for ages 35 and below"});return e.jsxs(y,{md:12,className:"section-frame personal-information mb-5",children:[e.jsx("div",{className:"title",children:e.jsxs("span",{children:[e.jsx(le,{className:"me-2"}),"Personal Information"]})}),e.jsx("div",{className:"p-3",children:e.jsxs(te,{children:[e.jsx(y,{md:12,children:e.jsxs(I,{controlId:"idNumber",label:"ID/Passport Number (max 8 chars)",className:"mb-3",children:[e.jsx(t.Control,{type:"text",placeholder:"ID/Passport Number",value:n.idNumber,onChange:i=>f(i.target.value),isInvalid:!!s.idNumber,maxLength:8,required:!0}),e.jsx(t.Control.Feedback,{type:"invalid",children:s.idNumber||"ID/Passport number must be 8 characters or less"})]})}),e.jsx(y,{md:4,children:e.jsxs(I,{controlId:"sirName",label:"Surname",className:"mb-3",children:[e.jsx(t.Control,{type:"text",placeholder:"Surname",value:n.sirName,onChange:i=>h("sirName",i.target.value),isInvalid:!!s.sirName,required:!0}),e.jsx(t.Control.Feedback,{type:"invalid",children:s.sirName||"Only alphabets and special characters allowed"})]})}),e.jsx(y,{md:4,children:e.jsxs(I,{controlId:"firstName",label:"First Name",className:"mb-3",children:[e.jsx(t.Control,{type:"text",placeholder:"First Names",value:n.firstName,onChange:i=>h("firstName",i.target.value),isInvalid:!!s.firstName}),e.jsx(t.Control.Feedback,{type:"invalid",children:s.firstName||"Only alphabets and special characters allowed"})]})}),e.jsx(y,{md:4,children:e.jsxs(I,{controlId:"lastName",label:"Other Names",className:"mb-3",children:[e.jsx(t.Control,{type:"text",placeholder:"Other Names",value:n.lastName,onChange:i=>h("lastName",i.target.value),isInvalid:!!s.lastName}),e.jsx(t.Control.Feedback,{type:"invalid",children:s.lastName||"Only alphabets and special characters allowed"})]})}),e.jsx(y,{md:4,children:e.jsxs(I,{controlId:"dob",label:"Date of Birth",className:"mb-3",children:[e.jsx(t.Control,{type:"date",placeholder:"Date of Birth",value:n.dob,onChange:i=>l("dob",i.target.value),isInvalid:!!s.dob,required:!0}),e.jsx(t.Control.Feedback,{type:"invalid",children:s.dob})]})}),e.jsx(y,{md:4,children:e.jsxs(t.Group,{controlId:"sex",className:"mb-3",children:[e.jsxs(t.Label,{children:[e.jsx(ie,{className:"me-2"}),"Sex ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"d-flex gap-4",children:[e.jsx(t.Check,{type:"radio",id:"male",label:"Male",name:"sex",value:"Male",checked:n.sex==="Male",onChange:()=>j("Male"),isInvalid:!!s.sex,required:!0}),e.jsx(t.Check,{type:"radio",id:"female",label:"Female",name:"sex",value:"Female",checked:n.sex==="Female",onChange:()=>j("Female"),isInvalid:!!s.sex,disabled:n.sex==="Male"})]}),e.jsx(t.Control.Feedback,{type:"invalid",children:s.sex})]})}),e.jsx(y,{md:4,children:e.jsxs(I,{controlId:"ethnicity",label:"Ethnicity",className:"mb-3",children:[e.jsxs(t.Select,{value:n.ethnicity,onChange:i=>l("ethnicity",i.target.value),isInvalid:!!s.ethnicity,children:[e.jsx("option",{value:"",children:"Select Ethnicity"}),e.jsx("option",{value:"kikuyu",children:"Kikuyu"}),e.jsx("option",{value:"luhya",children:"Luhya"}),e.jsx("option",{value:"luo",children:"Luo"}),e.jsx("option",{value:"kalenjin",children:"Kalenjin"}),e.jsx("option",{value:"kamba",children:"Kamba"}),e.jsx("option",{value:"kisii",children:"Kisii"}),e.jsx("option",{value:"meru",children:"Meru"}),e.jsx("option",{value:"maasai",children:"Maasai"}),e.jsx("option",{value:"mijikenda",children:"Mijikenda"}),e.jsx("option",{value:"turkana",children:"Turkana"}),e.jsx("option",{value:"somali",children:"Somali"}),e.jsx("option",{value:"embu",children:"Embu"}),e.jsx("option",{value:"tait",children:"Taita"}),e.jsx("option",{value:"taveta",children:"Taveta"}),e.jsx("option",{value:"pokot",children:"Pokot"}),e.jsx("option",{value:"samburu",children:"Samburu"}),e.jsx("option",{value:"rendille",children:"Rendille"}),e.jsx("option",{value:"borana",children:"Borana"}),e.jsx("option",{value:"gabra",children:"Gabra"}),e.jsx("option",{value:"orma",children:"Orma"}),e.jsx("option",{value:"swahili",children:"Swahili"}),e.jsx("option",{value:"tharaka",children:"Tharaka"}),e.jsx("option",{value:"nubi",children:"Nubi"}),e.jsx("option",{value:"kurya",children:"Kurya"}),e.jsx("option",{value:"teso",children:"Teso"}),e.jsx("option",{value:"suba",children:"Suba"}),e.jsx("option",{value:"bajuni",children:"Bajuni"}),e.jsx("option",{value:"basuba",children:"Basuba"}),e.jsx("option",{value:"ogiek",children:"Ogiek"}),e.jsx("option",{value:"el-molo",children:"El Molo"}),e.jsx("option",{value:"sakuye",children:"Sakuye"}),e.jsx("option",{value:"boni",children:"Boni"}),e.jsx("option",{value:"burji",children:"Burji"}),e.jsx("option",{value:"digo",children:"Digo"}),e.jsx("option",{value:"gosha",children:"Gosha"}),e.jsx("option",{value:"isukha",children:"Isukha"}),e.jsx("option",{value:"khayo",children:"Khayo"}),e.jsx("option",{value:"maragoli",children:"Maragoli"}),e.jsx("option",{value:"tachoni",children:"Tachoni"}),e.jsx("option",{value:"chonyi",children:"Chonyi"}),e.jsx("option",{value:"kuria",children:"Kuria"}),e.jsx("option",{value:"ilchamus",children:"Ilchamus"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx(t.Control.Feedback,{type:"invalid",children:s.ethnicity})]})}),e.jsx(y,{md:4,children:e.jsxs(t.Group,{controlId:"membershipCategory",className:"mb-3",children:[e.jsx(t.Label,{children:"SIG Category"}),n.dob&&e.jsxs("small",{className:"text-muted d-block",children:["Age: ",c," years ",c>35&&"(You MUST be 35 years of age or below)"]}),e.jsxs("div",{className:"d-flex flex-wrap gap-3",children:[e.jsx(Te,{placement:"top",overlay:g,show:c>35?void 0:!1,children:e.jsx("div",{className:"d-inline-block",children:e.jsx(S,{type:"checkbox",id:"youth",label:"Youth",value:"Youth",checked:n.membershipCategory.includes("Youth"),onChange:a,disabled:c>35})})}),e.jsx(S,{type:"checkbox",id:"women",label:"Women",value:"Women",checked:n.membershipCategory.includes("Women"),onChange:a,disabled:n.sex==="Male"}),e.jsx(S,{type:"checkbox",id:"pwd",label:"PWD",value:"PWD",checked:n.membershipCategory.includes("PWD"),onChange:a}),e.jsx(S,{type:"checkbox",id:"minority",label:"Minority",value:"Minority",checked:n.membershipCategory.includes("Minority"),onChange:a}),e.jsx(S,{type:"checkbox",id:"marginalized",label:"Marginalized",value:"Marginalized",checked:n.membershipCategory.includes("Marginalized"),onChange:a})]})]})}),n.membershipCategory.includes("PWD")&&e.jsx(y,{md:4,children:e.jsxs(I,{controlId:"pwdNumber",label:"PWD Number",className:"mb-3",children:[e.jsx(t.Control,{type:"text",placeholder:"PWD Number",value:n.pwdNumber,onChange:i=>l("pwdNumber",i.target.value),isInvalid:!!s.pwdNumber}),e.jsx(t.Control.Feedback,{type:"invalid",children:s.pwdNumber})]})}),e.jsx(y,{md:4,children:e.jsxs(t.Group,{controlId:"resideInKenya",className:"mb-3",children:[e.jsxs(t.Label,{children:[e.jsx(ae,{className:"me-2"}),"Do you reside in Kenya? ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"d-flex gap-4",children:[e.jsx(t.Check,{type:"radio",id:"resideYes",label:"Yes",name:"resideInKenya",value:"Yes",checked:n.resideInKenya==="Yes",onChange:()=>l("resideInKenya","Yes"),required:!0}),e.jsx(t.Check,{type:"radio",id:"resideNo",label:"No",name:"resideInKenya",value:"No",checked:n.resideInKenya==="No",onChange:()=>l("resideInKenya","No")})]})]})}),n.resideInKenya==="No"&&e.jsx(y,{md:4,children:e.jsxs(I,{controlId:"countryOfResidence",label:"Country of Residence",className:"mb-3",children:[e.jsxs(t.Select,{value:n.countryOfResidence,onChange:i=>l("countryOfResidence",i.target.value),isInvalid:!!s.countryOfResidence,required:n.resideInKenya==="No",children:[e.jsx("option",{value:"",children:"Select Country"}),o.map(i=>e.jsx("option",{value:i,children:i},i))]}),e.jsx(t.Control.Feedback,{type:"invalid",children:s.countryOfResidence})]})}),e.jsx(y,{md:4,children:e.jsxs(I,{controlId:"religion",label:"Religion",className:"mb-3",children:[e.jsxs(t.Select,{value:n.religion,onChange:i=>l("religion",i.target.value),isInvalid:!!s.religion,children:[e.jsx("option",{value:"",children:"Select Religion"}),e.jsx("option",{value:"Christianity",children:"Christianity"}),e.jsx("option",{value:"Islam",children:"Islam"}),e.jsx("option",{value:"Hinduism",children:"Hinduism"}),e.jsx("option",{value:"African Traditional Religions",children:"African Traditional Religions"}),e.jsx("option",{value:"Atheism",children:"Atheism"}),e.jsx("option",{value:"Others",children:"Others"})]}),e.jsx(t.Control.Feedback,{type:"invalid",children:s.religion})]})})]})})]})}export{He as default};
