import{r,j as e}from"./app-pyWh3tbW.js";import{d as te,e as le,c as ie}from"./index-6EtznbUm.js";import{u as T,c as S,a as G,P as oe,C as g}from"./warning-DqsnFZIJ.js";import{R as ae}from"./Row-Dyb0tu52.js";import{a as I,F as a,b as M}from"./Form-F2ApCgyU.js";import{u as re,a as W,r as ce,h as H,c as de}from"./hasClass-CujqgCMb.js";import{u as ue}from"./useTimeout-Colp_3pd.js";import{u as me}from"./hook-CjMWjug6.js";import{u as he,i as fe,o as pe,l as xe,R as ve,a as q,b as ye,F as U,s as Y,g as be}from"./Fade-DP-sYRzF.js";import{u as ge,g as je,a as $,b as Ne,m as Ce,c as we}from"./useIsomorphicEffect-DKxA1vPX.js";import"./iconBase-spD0pt14.js";import"./useWillUnmount-BIYiToyD.js";const Re=()=>{};function Oe(n,t,{disabled:s,clickTrigger:i}={}){const o=t||Re;ge(n,o,{disabled:s,clickTrigger:i});const c=he(u=>{fe(u)&&o(u)});r.useEffect(()=>{if(s||n==null)return;const u=pe(je(n));let v=(u.defaultView||window).event;const m=xe(u,"keyup",x=>{if(x===v){v=void 0;return}c(x)});return()=>{m()}},[n,s,c])}const z=r.forwardRef((n,t)=>{const{flip:s,offset:i,placement:o,containerPadding:c,popperConfig:u={},transition:v,runTransition:m}=n,[x,y]=$(),[j,l]=$(),h=re(y,t),f=W(n.container),N=W(n.target),[d,b]=r.useState(!n.show),p=Ne(N,x,Ce({placement:o,enableEvents:!!n.show,containerPadding:c||5,flip:s,offset:i,arrowElement:j,popperConfig:u}));n.show&&d&&b(!1);const O=(...B)=>{b(!0),n.onExited&&n.onExited(...B)},w=n.show||!d;if(Oe(x,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!w)return null;const{onExit:F,onExiting:k,onEnter:R,onEntering:K,onEntered:D}=n;let P=n.children(Object.assign({},p.attributes.popper,{style:p.styles.popper,ref:h}),{popper:p,placement:o,show:!!n.show,arrowProps:Object.assign({},p.attributes.arrow,{style:p.styles.arrow,ref:l})});return P=ce(v,m,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:P,onExit:F,onExiting:k,onExited:O,onEnter:R,onEntering:K,onEntered:D}),f?ve.createPortal(P,f):null});z.displayName="Overlay";const V=r.forwardRef(({className:n,bsPrefix:t,as:s="div",...i},o)=>(t=T(t,"popover-header"),e.jsx(s,{ref:o,className:S(n,t),...i})));V.displayName="PopoverHeader";const _=r.forwardRef(({className:n,bsPrefix:t,as:s="div",...i},o)=>(t=T(t,"popover-body"),e.jsx(s,{ref:o,className:S(n,t),...i})));_.displayName="PopoverBody";function Z(n,t){let s=n;return n==="left"?s=t?"end":"start":n==="right"&&(s=t?"start":"end"),s}function J(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Q=r.forwardRef(({bsPrefix:n,placement:t="right",className:s,style:i,children:o,body:c,arrowProps:u,hasDoneInitialMeasure:v,popper:m,show:x,...y},j)=>{const l=T(n,"popover"),h=G(),[f]=(t==null?void 0:t.split("-"))||[],N=Z(f,h);let d=i;return x&&!v&&(d={...i,...J(m==null?void 0:m.strategy)}),e.jsxs("div",{ref:j,role:"tooltip",style:d,"x-placement":f,className:S(s,l,f&&`bs-popover-${N}`),...y,children:[e.jsx("div",{className:"popover-arrow",...u}),c?e.jsx(_,{children:o}):o]})});Q.displayName="Popover";const ke=Object.assign(Q,{Header:V,Body:_,POPPER_OFFSET:[0,8]}),X=r.forwardRef(({bsPrefix:n,placement:t="right",className:s,style:i,children:o,arrowProps:c,hasDoneInitialMeasure:u,popper:v,show:m,...x},y)=>{n=T(n,"tooltip");const j=G(),[l]=(t==null?void 0:t.split("-"))||[],h=Z(l,j);let f=i;return m&&!u&&(f={...i,...J(v==null?void 0:v.strategy)}),e.jsxs("div",{ref:y,style:f,role:"tooltip","x-placement":l,className:S(s,n,`bs-tooltip-${h}`),...x,children:[e.jsx("div",{className:"tooltip-arrow",...c}),e.jsx("div",{className:`${n}-inner`,children:o})]})});X.displayName="Tooltip";const ee=Object.assign(X,{TOOLTIP_OFFSET:[0,6]});function Ie(n){const t=r.useRef(null),s=T(void 0,"popover"),i=T(void 0,"tooltip"),o=r.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(t.current){if(H(t.current,s))return ke.POPPER_OFFSET;if(H(t.current,i))return ee.TOOLTIP_OFFSET}return[0,0]}}}),[n,s,i]);return[t,[o]]}function Fe(n,t){const{ref:s}=n,{ref:i}=t;n.ref=s.__wrapped||(s.__wrapped=o=>s(Y(o))),t.ref=i.__wrapped||(i.__wrapped=o=>i(Y(o)))}const ne=r.forwardRef(({children:n,transition:t=U,popperConfig:s={},rootClose:i=!1,placement:o="top",show:c=!1,...u},v)=>{const m=r.useRef({}),[x,y]=r.useState(null),[j,l]=Ie(u.offset),h=q(v,j),f=t===!0?U:t||void 0,N=ye(d=>{y(d),s==null||s.onFirstUpdate==null||s.onFirstUpdate(d)});return we(()=>{x&&u.target&&(m.current.scheduleUpdate==null||m.current.scheduleUpdate())},[x,u.target]),r.useEffect(()=>{c||y(null)},[c]),e.jsx(z,{...u,ref:h,popperConfig:{...s,modifiers:l.concat(s.modifiers||[]),onFirstUpdate:N},transition:f,rootClose:i,placement:o,show:c,children:(d,{arrowProps:b,popper:p,show:O})=>{var w;Fe(d,b);const F=p==null?void 0:p.placement,k=Object.assign(m.current,{state:p==null?void 0:p.state,scheduleUpdate:p==null?void 0:p.update,placement:F,outOfBoundaries:(p==null||(w=p.state)==null||(w=w.modifiersData.hide)==null?void 0:w.isReferenceHidden)||!1,strategy:s.strategy}),R=!!x;return typeof n=="function"?n({...d,placement:F,show:O,...!t&&O&&{className:"show"},popper:k,arrowProps:b,hasDoneInitialMeasure:R}):r.cloneElement(n,{...d,placement:F,arrowProps:b,popper:k,hasDoneInitialMeasure:R,className:S(n.props.className,!t&&O&&"show"),style:{...n.props.style,...d.style}})}})});ne.displayName="Overlay";function Ee(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function A(n,t,s){const[i]=t,o=i.currentTarget,c=i.relatedTarget||i.nativeEvent[s];(!c||c!==o)&&!de(o,c)&&n(...t)}oe.oneOf(["click","hover","focus"]);const Te=({trigger:n=["hover","focus"],overlay:t,children:s,popperConfig:i={},show:o,defaultShow:c=!1,onToggle:u,delay:v,placement:m,flip:x=m&&m.indexOf("auto")!==-1,...y})=>{const j=r.useRef(null),l=q(j,be(s)),h=ue(),f=r.useRef(""),[N,d]=me(o,c,u),b=Ee(v),{onFocus:p,onBlur:O,onClick:w}=typeof s!="function"?r.Children.only(s).props:{},F=C=>{l(Y(C))},k=r.useCallback(()=>{if(h.clear(),f.current="show",!b.show){d(!0);return}h.set(()=>{f.current==="show"&&d(!0)},b.show)},[b.show,d,h]),R=r.useCallback(()=>{if(h.clear(),f.current="hide",!b.hide){d(!1);return}h.set(()=>{f.current==="hide"&&d(!1)},b.hide)},[b.hide,d,h]),K=r.useCallback((...C)=>{k(),p==null||p(...C)},[k,p]),D=r.useCallback((...C)=>{R(),O==null||O(...C)},[R,O]),P=r.useCallback((...C)=>{d(!N),w==null||w(...C)},[w,d,N]),B=r.useCallback((...C)=>{A(k,C,"fromElement")},[k]),se=r.useCallback((...C)=>{A(R,C,"toElement")},[R]),L=n==null?[]:[].concat(n),E={ref:F};return L.indexOf("click")!==-1&&(E.onClick=P),L.indexOf("focus")!==-1&&(E.onFocus=K,E.onBlur=D),L.indexOf("hover")!==-1&&(E.onMouseOver=B,E.onMouseOut=se),e.jsxs(e.Fragment,{children:[typeof s=="function"?s(E):r.cloneElement(s,E),e.jsx(ne,{...y,show:N,onHide:R,flip:x,placement:m,popperConfig:i,target:j.current,children:t})]})};function $e({data:n,setData:t,errors:s,handleCheckboxChange:i,countries:o}){const[c,u]=r.useState(0);r.useEffect(()=>{if(n.dob){const l=new Date(n.dob),h=Date.now()-l.getTime(),f=new Date(h);if(u(Math.abs(f.getUTCFullYear()-1970)),c>35&&n.membershipCategory.includes("Youth")){const N=n.membershipCategory.filter(d=>d!=="Youth");t("membershipCategory",N)}}else u(0)},[n.dob,c,n.membershipCategory,t]);const v=l=>/^[a-zA-Z\s\-.'()]+$/.test(l),m=(l,h)=>{(h===""||v(h))&&t(l,h)},x=l=>{l.length<=8&&t("idNumber",l)},y=l=>{t("sex",l)},j=e.jsx(ee,{id:"youth-tooltip",children:"Youth category is only available for ages 35 and below"});return e.jsxs(g,{md:12,className:"section-frame personal-information mb-5",children:[e.jsx("div",{className:"title",children:e.jsxs("span",{children:[e.jsx(te,{className:"me-2"}),"Personal Information"]})}),e.jsx("div",{className:"p-3",children:e.jsxs(ae,{children:[e.jsx(g,{md:12,children:e.jsxs(I,{controlId:"idNumber",label:"ID/Passport Number (max 8 chars)",className:"mb-3",children:[e.jsx(a.Control,{type:"text",placeholder:"ID/Passport Number",value:n.idNumber,onChange:l=>x(l.target.value),isInvalid:!!s.idNumber,maxLength:8,required:!0}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.idNumber||"ID/Passport number must be 8 characters or less"})]})}),e.jsx(g,{md:4,children:e.jsxs(I,{controlId:"sirName",label:"Surname",className:"mb-3",children:[e.jsx(a.Control,{type:"text",placeholder:"Surname",value:n.sirName,onChange:l=>m("sirName",l.target.value),isInvalid:!!s.sirName,required:!0}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.sirName||"Only alphabets and special characters allowed"})]})}),e.jsx(g,{md:4,children:e.jsxs(I,{controlId:"firstName",label:"First Name",className:"mb-3",children:[e.jsx(a.Control,{type:"text",placeholder:"First Names",value:n.firstName,onChange:l=>m("firstName",l.target.value),isInvalid:!!s.firstName}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.firstName||"Only alphabets and special characters allowed"})]})}),e.jsx(g,{md:4,children:e.jsxs(I,{controlId:"lastName",label:"Other Names",className:"mb-3",children:[e.jsx(a.Control,{type:"text",placeholder:"Other Names",value:n.lastName,onChange:l=>m("lastName",l.target.value),isInvalid:!!s.lastName}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.lastName||"Only alphabets and special characters allowed"})]})}),e.jsx(g,{md:4,children:e.jsxs(I,{controlId:"dob",label:"Date of Birth",className:"mb-3",children:[e.jsx(a.Control,{type:"date",placeholder:"Date of Birth",value:n.dob,onChange:l=>t("dob",l.target.value),isInvalid:!!s.dob,required:!0}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.dob})]})}),e.jsx(g,{md:4,children:e.jsxs(a.Group,{controlId:"sex",className:"mb-3",children:[e.jsxs(a.Label,{children:[e.jsx(le,{className:"me-2"}),"Sex ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"d-flex gap-4",children:[e.jsx(a.Check,{type:"radio",id:"male",label:"Male",name:"sex",value:"Male",checked:n.sex==="Male",onChange:()=>y("Male"),isInvalid:!!s.sex,required:!0}),e.jsx(a.Check,{type:"radio",id:"female",label:"Female",name:"sex",value:"Female",checked:n.sex==="Female",onChange:()=>y("Female"),isInvalid:!!s.sex,disabled:n.sex==="Male"})]}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.sex})]})}),e.jsx(g,{md:4,children:e.jsxs(I,{controlId:"ethnicity",label:"Ethnicity",className:"mb-3",children:[e.jsxs(a.Select,{value:n.ethnicity,onChange:l=>t("ethnicity",l.target.value),isInvalid:!!s.ethnicity,children:[e.jsx("option",{value:"",children:"Select Ethnicity"}),e.jsx("option",{value:"Kikuyu",children:"Kikuyu"}),e.jsx("option",{value:"Luhya",children:"Luhya"}),e.jsx("option",{value:"Kalenjin",children:"Kalenjin"}),e.jsx("option",{value:"Luo",children:"Luo"}),e.jsx("option",{value:"Kamba",children:"Kamba"}),e.jsx("option",{value:"Somali",children:"Somali"}),e.jsx("option",{value:"Kisii",children:"Kisii"}),e.jsx("option",{value:"Other",children:"Other"})]}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.ethnicity})]})}),e.jsx(g,{md:4,children:e.jsxs(a.Group,{controlId:"membershipCategory",className:"mb-3",children:[e.jsx(a.Label,{children:"SIG Category"}),n.dob&&e.jsxs("small",{className:"text-muted d-block",children:["Age: ",c," years ",c>35&&"(Too old for Youth category)"]}),e.jsxs("div",{className:"d-flex flex-wrap gap-3",children:[e.jsx(Te,{placement:"top",overlay:j,show:c>35?void 0:!1,children:e.jsx("div",{className:"d-inline-block",children:e.jsx(M,{type:"checkbox",id:"youth",label:"Youth",value:"Youth",checked:n.membershipCategory.includes("Youth"),onChange:i,disabled:c>35})})}),e.jsx(M,{type:"checkbox",id:"women",label:"Women",value:"Women",checked:n.membershipCategory.includes("Women"),onChange:i,disabled:n.sex==="Male"}),e.jsx(M,{type:"checkbox",id:"pwd",label:"PWD",value:"PWD",checked:n.membershipCategory.includes("PWD"),onChange:i}),e.jsx(M,{type:"checkbox",id:"minority",label:"Minority",value:"Minority",checked:n.membershipCategory.includes("Minority"),onChange:i}),e.jsx(M,{type:"checkbox",id:"marginalized",label:"Marginalized",value:"Marginalized",checked:n.membershipCategory.includes("Marginalized"),onChange:i})]})]})}),n.membershipCategory.includes("PWD")&&e.jsx(g,{md:4,children:e.jsxs(I,{controlId:"pwdNumber",label:"PWD Number",className:"mb-3",children:[e.jsx(a.Control,{type:"text",placeholder:"PWD Number",value:n.pwdNumber,onChange:l=>t("pwdNumber",l.target.value),isInvalid:!!s.pwdNumber}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.pwdNumber})]})}),e.jsx(g,{md:4,children:e.jsxs(a.Group,{controlId:"resideInKenya",className:"mb-3",children:[e.jsxs(a.Label,{children:[e.jsx(ie,{className:"me-2"}),"Do you reside in Kenya? ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"d-flex gap-4",children:[e.jsx(a.Check,{type:"radio",id:"resideYes",label:"Yes",name:"resideInKenya",value:"Yes",checked:n.resideInKenya==="Yes",onChange:()=>t("resideInKenya","Yes"),required:!0}),e.jsx(a.Check,{type:"radio",id:"resideNo",label:"No",name:"resideInKenya",value:"No",checked:n.resideInKenya==="No",onChange:()=>t("resideInKenya","No")})]})]})}),n.resideInKenya==="No"&&e.jsx(g,{md:4,children:e.jsxs(I,{controlId:"countryOfResidence",label:"Country of Residence",className:"mb-3",children:[e.jsxs(a.Select,{value:n.countryOfResidence,onChange:l=>t("countryOfResidence",l.target.value),isInvalid:!!s.countryOfResidence,required:n.resideInKenya==="No",children:[e.jsx("option",{value:"",children:"Select Country"}),o.map(l=>e.jsx("option",{value:l,children:l},l))]}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.countryOfResidence})]})}),e.jsx(g,{md:4,children:e.jsxs(I,{controlId:"religion",label:"Religion",className:"mb-3",children:[e.jsxs(a.Select,{value:n.religion,onChange:l=>t("religion",l.target.value),isInvalid:!!s.religion,children:[e.jsx("option",{value:"",children:"Select Religion"}),e.jsx("option",{value:"Christianity",children:"Christianity"}),e.jsx("option",{value:"Islam",children:"Islam"}),e.jsx("option",{value:"Hinduism",children:"Hinduism"}),e.jsx("option",{value:"African Traditional Religions",children:"African Traditional Religions"}),e.jsx("option",{value:"Atheism",children:"Atheism"}),e.jsx("option",{value:"Others",children:"Others"})]}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.religion})]})})]})})]})}export{$e as default};
